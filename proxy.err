In file included from main.c:1:0:
proxy.h:120:1: error: unknown type name ‘Config’
main.c: In function ‘main’:
main.c:32:36: error: request for member ‘listen_port’ in something not a structure or union
main.c:33:29: error: request for member ‘listen_port’ in something not a structure or union
main.c:35:37: error: request for member ‘listen_port’ in something not a structure or union
main.c:39:31: error: request for member ‘listen_port’ in something not a structure or union
main.c:41:42: error: request for member ‘link_period’ in something not a structure or union
main.c:42:35: error: request for member ‘link_period’ in something not a structure or union
main.c:44:36: error: request for member ‘link_timeout’ in something not a structure or union
main.c:45:29: error: request for member ‘link_timeout’ in something not a structure or union
main.c:47:39: error: ‘port’ undeclared (first use in this function)
main.c:47:39: note: each undeclared identifier is reported only once for each function it appears in
main.c:50:8: error: ‘ethfd’ undeclared (first use in this function)
main.c:50:43: error: request for member ‘listen_port’ in something not a structure or union
main.c:55:36: error: request for member ‘quit_timer’ in something not a structure or union
main.c:56:29: error: request for member ‘quit_timer’ in something not a structure or union
main.c:59:4: warning: format ‘%s’ expects a matching ‘char *’ argument [-Wformat]
main.c:66:20: error: ‘tid’ undeclared (first use in this function)
main.c:66:4: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [enabled by default]
In file included from proxy.h:9:0,
                 from main.c:1:
/usr/include/pthread.h:232:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘void * (*)(int *)’
main.c:71:2: error: ‘ls’ undeclared (first use in this function)
main.c:71:2: warning: left-hand operand of comma expression has no effect [-Wunused-value]
main.c:71:2: error: ‘Peer’ has no member named ‘hash_table’
main.c:72:3: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [enabled by default]
In file included from proxy.h:9:0,
                 from main.c:1:
/usr/include/pthread.h:232:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘void * (*)(int *)’
main.c:74:2: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [enabled by default]
In file included from proxy.h:9:0,
                 from main.c:1:
/usr/include/pthread.h:232:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘void * (*)(int *)’
main.c:75:2: warning: passing argument 1 of ‘pthread_detach’ makes integer from pointer without a cast [enabled by default]
In file included from proxy.h:9:0,
                 from main.c:1:
/usr/include/pthread.h:270:12: note: expected ‘pthread_t’ but argument is of type ‘pthread_t *’
main.c:88:15: error: ‘clientfd’ undeclared (first use in this function)
main.c:89:4: warning: passing argument 2 of ‘getsockname’ from incompatible pointer type [enabled by default]
In file included from proxy.h:11:0,
                 from main.c:1:
/usr/include/sys/socket.h:128:12: note: expected ‘struct sockaddr * __restrict__’ but argument is of type ‘struct in_addr *’
main.c:89:4: warning: passing argument 3 of ‘getsockname’ makes pointer from integer without a cast [enabled by default]
In file included from proxy.h:11:0,
                 from main.c:1:
/usr/include/sys/socket.h:128:12: note: expected ‘socklen_t * __restrict__’ but argument is of type ‘unsigned int’
main.c:91:4: warning: passing argument 2 of ‘getpeername’ from incompatible pointer type [enabled by default]
In file included from proxy.h:11:0,
                 from main.c:1:
/usr/include/sys/socket.h:142:12: note: expected ‘struct sockaddr * __restrict__’ but argument is of type ‘struct in_addr *’
main.c:91:4: warning: passing argument 3 of ‘getpeername’ makes pointer from integer without a cast [enabled by default]
In file included from proxy.h:11:0,
                 from main.c:1:
/usr/include/sys/socket.h:142:12: note: expected ‘socklen_t * __restrict__’ but argument is of type ‘unsigned int’
main.c:96:3: warning: implicit declaration of function ‘link_state_exchange’ [-Wimplicit-function-declaration]
main.c:98:3: warning: passing argument 3 of ‘pthread_create’ from incompatible pointer type [enabled by default]
In file included from proxy.h:9:0,
                 from main.c:1:
/usr/include/pthread.h:232:12: note: expected ‘void * (*)(void *)’ but argument is of type ‘void * (*)(int *)’
